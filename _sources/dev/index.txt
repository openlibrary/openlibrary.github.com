Getting Started with Development
================================

Working with JavaScript
-----------------------

The Open Library website makes heavy use of jQuery libraries. 

Except ``jquery`` and ``jquery-ui``, all other third-party JavaScript libraries are combined and included as ``vendor.js``.

All the custom JavaScript is combined and included as ``all.js``.

vendor.js and third party libraries
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

All third-party JavaScript files are added in the `vendor/js`_ directory in the 
repository and ``static/build/vendor.js`` is generated by combining these 
JavaScript files. The files included in ``static/build/vendor.js`` are specified in 
a shell script ``static/js/vendor.jsh``.

To include a new third-party library:

* Add that library in `vendor/js`_ in the repository
* Add an entry in `static/js/vendor.jsh`_
* Generate ``vendor.js`` by running ``make`` ::
        
    $ make js

* Commit vendor.jsh and the library added to the repository

.. _vendor/js: http://github.com/openlibrary/openlibrary/tree/master/vendor/js
.. _static/js/vendor.jsh: http://github.com/openlibrary/openlibrary/tree/master/static/upstream/js/vendor.jsh

all.js and custom JavaScript
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

All the custom JavaScript files are put in the repo at ``openlibrary/plugins/openlibrary/js``.
All these JavaScript files are combined to generate ``build/js/all.js``.

The order in which these files are included is determined by the sort order of
the names. In general, it is a bad idea to depend on the order of files
loaded.

If you make any changes to any of the JavaScript files, run ``make js`` to regenerate ``build/js/all.js``.

Working with CSS
----------------

All the stylesheets are put in the repo at ``static/css``.
All these stylesheets are combined to generate ``build/css/all.css``, which is included in all the web pages.

It is a good idea to break the css into multiple logical files instead of putting it in one monolithic file.

If you make any changes to any of the CSS files, run ``make css`` to regenerate ``build/css/all.css``.
